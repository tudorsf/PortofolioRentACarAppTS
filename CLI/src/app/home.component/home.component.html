<div *ngIf="isLoading">
  <app-loader-component></app-loader-component>
 </div>

 <div *ngIf="!isLoading" style="width: 100%;">
  <div *ngIf="cars.length == 0">
    <p>no cars available, please try again later</p>
  </div>
  <div *ngIf="cars.length > 0">
    <div class="container mt-1">

        <div class="left">
          <div class="title mt-1">
            <h5>Filter by:</h5>
            <h5 (click)="resetFilters()"><span>Reset all <i class="material-icons">clear</i></span></h5>
          </div>
          <div class="content">
            <input type="text" [(ngModel)]="searchQuery" placeholder="Search name or model">
            <div class="dropdown">
              <label>Year</label>
              <select [(ngModel)]="yearFilter" class="form-select filterDrop">
                <option value="" selected>Select a year</option>
                <option   *ngFor="let year of years" [value]="year">{{ year }}</option>
              </select>
            </div>
            <div class="dropdown">
              <label>Car Type</label>
              <select [(ngModel)]="typeFilter" class="form-select filterDrop">
                <option value=0 selected>Select a car type</option>
                <option *ngFor="let options of getCarTypeOptions(); trackBy:identify" [value]="options.value"  >{{ options.label}}</option>
              </select>
            </div>
            <div class="dropdown">
              <label>Doors</label>
              <select [(ngModel)]="doorsFilter" class="form-select filterDrop">
                <option value=0 selected>Select doors number</option>
                <option *ngFor="let options of getDoorsOptions(); trackBy:identify" [value]="options.value">{{ options.label}}</option>
              </select>
            </div>
            <div class="dropdown">
              <label>Gearbox</label>
              <select [(ngModel)]="gearFilter" class="form-select filterDrop">
                <option value=0 selected>Select gearbox type</option>
                <option *ngFor="let options of getGearboxTypeOptions(); trackBy:identify" [value]="options.value">{{ options.label}}</option>
              </select>
            </div>
            <div class="dropdown">
              <label>Engine</label>
              <select [(ngModel)]="engineFilter" class="form-select filterDrop">
                <option value=0 disabled selected>Select engine type</option>
                <option *ngFor="let options of getEngineOptions(); trackBy:identify" [value]="options.value">{{ options.label}}</option>
               </select>
              </div>
          </div>
          <div class="filterBtn mt-2">
            <button mat-raised-button color="warn" (click)="filter()">Filter</button>

          </div>
        </div>

        <div class="middle">
          

          <mat-card *ngFor="let car of filteredCars" class="example-card mt-1 mb-1">
            <mat-card-header>
              <div mat-card-avatar class="example-header-image"></div>
              <mat-card-title>{{car.name}}</mat-card-title>
              <mat-card-subtitle>{{car.model}} {{car.year}} {{car.engineCapacity != 0 ? car.engineCapacity.toFixed(1) : ''}}</mat-card-subtitle>
            </mat-card-header>
            <img mat-card-image src="">
            <mat-card-content>
              
              <div class="image-container">
                <img mat-card-image *ngIf="car.photos && car.photos.length > 0" src="{{car.photos[0].photo}}">

              </div>
            </mat-card-content>
            <mat-card-footer>
              <span> {{CarType[car.type]}}</span>
              <span> {{Engine[car.engine]}}</span>
              <span> {{GearboxType[car.gearboxType]}}</span>
              <span> {{DorsNr[car.doorsNr]}}</span>
              <button mat-flat-button color="warn" (click)="openResModal(this.car)">Add Reservation</button>
            </mat-card-footer>
          </mat-card>
          
     <!-- <table>
        <thead>
          <tr>
            <th>Car Name</th>
            <th>Price</th>
            <th>Price</th>
            <th>Price</th>
            <th>Price</th>
            <th>Price</th>
  
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let car of cars">
            <td>{{ car.name }}</td>
            <td>{{ car.brand }}</td>
    
            <td>{{car.pricePerDay}}</td>
            <td >{{Engine[car.engine]}}</td>                
            <td>{{DorsNr[car.doorsNr]}}</td>
            <td>{{CarType[car.type]}}</td>
            <td>{{ GearboxType[car.gearboxType] }}</td>
    
            <td>
              <button mat-flat-button color="warn" (click)="openResModal(this.car)">Add Reservation</button>
  
            </td>
          </tr>
          
        </tbody>
      </table>-->
        </div>
        <div class="right">
        <!-- Content for the last 50% section -->
        </div>
      </div>

        
  </div>


  
   
    
  </div>




